02-04-2025 17:39:19 - INFO - Logging system initialized. Environment: development
02-04-2025 17:39:20 - INFO - Starting model training and backtesting workflow
02-04-2025 17:39:20 - INFO - Loading data from data/storage/capital_com/processed/processed_GBPUSD_m5_20240101_20250101.csv
02-04-2025 17:39:20 - INFO - Data loaded with shape: (74693, 42)
02-04-2025 17:39:20 - INFO - Date range: 2024-01-02 00:35:00 to 2024-12-31 21:55:00
02-04-2025 17:39:20 - INFO - Training model with configuration:
02-04-2025 17:39:20 - INFO - {
  "model_type": "xgboost",
  "prediction_type": "classification",
  "target": "close_return",
  "features": null,
  "prediction_horizon": 1,
  "test_size": 0.2,
  "cross_validate": true,
  "scale_features": true,
  "model_params": {
    "n_estimators": 100,
    "max_depth": 5,
    "learning_rate": 0.1,
    "subsample": 0.8,
    "colsample_bytree": 0.8,
    "objective": "binary:logistic",
    "eval_metric": "auc",
    "random_state": 42
  }
}
02-04-2025 17:39:20 - INFO - Auto-selected 40 features
02-04-2025 17:39:20 - INFO - Data prepared: 59754 training samples, 14939 test samples
02-04-2025 17:39:20 - INFO - Training xgboost model...
02-04-2025 17:39:21 - INFO - XGBoost model trained with 59754 samples
02-04-2025 17:39:21 - INFO - Model evaluation metrics: {'accuracy': 0.5160988017939621, 'precision': 0.5214808043875686, 'recall': 0.7410053253669308, 'f1': 0.6121573045764258, 'roc_auc': np.float64(0.5138271168172088)}
02-04-2025 17:39:21 - INFO - Model saved to model_storage/xgboost_20250402_173920_20250402_173921.pkl
02-04-2025 17:39:21 - INFO - Feature importance plot saved to model_storage/xgboost_20250402_173920_feature_importance.png
02-04-2025 17:39:21 - INFO - Prediction plot saved to ml_model_results/xgboost_predictions_20250402_173921.png
02-04-2025 17:39:21 - INFO - Performing cross-validation
02-04-2025 17:39:21 - ERROR - Error in workflow: Argument 'other' has incorrect type (expected datetime.datetime, got Timedelta)
Traceback (most recent call last):
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/run_model_backtest.py", line 173, in main
    model, trainer = train_model(df, model_config)
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/run_model_backtest.py", line 62, in train_model
    cv_results = trainer.cross_validate(df)
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/models/model_trainer.py", line 256, in cross_validate
    splits = splitter.split(data)
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/data/features/time_series_ml.py", line 219, in split
    total_range = (end_date - start_date - train_period - test_period)
  File "offsets.pyx", line 481, in pandas._libs.tslibs.offsets.BaseOffset.__rsub__
  File "offsets.pyx", line 463, in pandas._libs.tslibs.offsets.BaseOffset.__add__
  File "offsets.pyx", line 127, in pandas._libs.tslibs.offsets.apply_wraps.wrapper
TypeError: Argument 'other' has incorrect type (expected datetime.datetime, got Timedelta)
