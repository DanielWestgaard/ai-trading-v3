02-04-2025 16:14:37 - INFO - Logging system initialized. Environment: development
02-04-2025 16:14:37 - INFO - Starting model training and backtesting workflow
02-04-2025 16:14:37 - INFO - Loading data from data/storage/capital_com/processed/processed_GBPUSD_m5_20240101_20250101.csv
02-04-2025 16:14:37 - INFO - Data loaded with shape: (1232, 44)
02-04-2025 16:14:37 - INFO - Date range: 2024-01-02 00:35:00 to 2024-01-08 07:20:00
02-04-2025 16:14:37 - INFO - Training model with configuration:
02-04-2025 16:14:37 - INFO - {
  "model_type": "xgboost",
  "prediction_type": "classification",
  "target": "close_return",
  "features": null,
  "prediction_horizon": 1,
  "test_size": 0.2,
  "cross_validate": true,
  "scale_features": true,
  "model_params": {
    "n_estimators": 100,
    "max_depth": 5,
    "learning_rate": 0.1,
    "subsample": 0.8,
    "colsample_bytree": 0.8,
    "objective": "binary:logistic",
    "eval_metric": "auc",
    "random_state": 42
  }
}
02-04-2025 16:14:37 - INFO - Auto-selected 42 features
02-04-2025 16:14:37 - INFO - Data prepared: 985 training samples, 247 test samples
02-04-2025 16:14:37 - INFO - Training xgboost model...
02-04-2025 16:14:38 - INFO - XGBoost model trained with 985 samples
02-04-2025 16:14:38 - INFO - Model evaluation metrics: {'accuracy': 0.5425101214574899, 'precision': 0.5833333333333334, 'recall': 0.5263157894736842, 'f1': 0.5533596837944664, 'roc_auc': np.float64(0.534098403904498)}
02-04-2025 16:14:38 - INFO - Model saved to model_storage/xgboost_20250402_161437_20250402_161438.pkl
02-04-2025 16:14:38 - INFO - Feature importance plot saved to model_storage/xgboost_20250402_161437_feature_importance.png
02-04-2025 16:14:38 - INFO - Prediction plot saved to ml_model_results/xgboost_predictions_20250402_161438.png
02-04-2025 16:14:38 - INFO - Performing cross-validation
02-04-2025 16:14:38 - ERROR - Error in workflow: Argument 'other' has incorrect type (expected datetime.datetime, got Timedelta)
Traceback (most recent call last):
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/run_model_backtest.py", line 173, in main
    model, trainer = train_model(df, model_config)
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/run_model_backtest.py", line 62, in train_model
    cv_results = trainer.cross_validate(df)
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/models/model_trainer.py", line 256, in cross_validate
    splits = splitter.split(data)
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/data/features/time_series_ml.py", line 219, in split
    total_range = (end_date - start_date - train_period - test_period)
  File "offsets.pyx", line 481, in pandas._libs.tslibs.offsets.BaseOffset.__rsub__
  File "offsets.pyx", line 463, in pandas._libs.tslibs.offsets.BaseOffset.__add__
  File "offsets.pyx", line 127, in pandas._libs.tslibs.offsets.apply_wraps.wrapper
TypeError: Argument 'other' has incorrect type (expected datetime.datetime, got Timedelta)
