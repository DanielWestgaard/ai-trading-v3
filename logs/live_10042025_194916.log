10-04-2025 19:49:16 - INFO - Logging system initialized. Environment: development
10-04-2025 19:49:16 - INFO - Loading model from model_registry/model_storage/xgboost_20250403_102300_20250403_102301.pkl
10-04-2025 19:49:16 - INFO - Model loaded from model_registry/model_storage/xgboost_20250403_102300_20250403_102301.pkl
10-04-2025 19:49:16 - INFO - Model loaded from model_registry/model_storage/xgboost_20250403_102300_20250403_102301.pkl
10-04-2025 19:49:16 - INFO - Loaded credentials. Length: 3
10-04-2025 19:49:16 - INFO - Starting session with Capital.com...
10-04-2025 19:49:16 - INFO - About to start a new session.
10-04-2025 19:49:16 - INFO - Using encrypted password to start session.
10-04-2025 19:49:17 - INFO - AccountID and/or all_accounts is None. Initializing them now.
10-04-2025 19:49:17 - INFO - Will not print out response of all accounts.
10-04-2025 19:49:17 - INFO - Found accountId matching account USD_testing!
10-04-2025 19:49:17 - INFO - Successfully switched to account USD_testing!
10-04-2025 19:49:17 - INFO - Switched to account: USD_testing
10-04-2025 19:49:17 - INFO - Initializing model-based strategy
10-04-2025 19:49:17 - INFO - Subscribing to market data for GBPUSD
10-04-2025 19:49:17 - INFO - Fetching historical data for warm-up period
10-04-2025 19:49:17 - INFO - Fetching historical data for GBPUSD from 2025-04-10T13:39:17 to 2025-04-10T17:49:17
10-04-2025 19:49:17 - INFO - Inside historical_prices() markets_info.py
10-04-2025 19:49:17 - INFO - Warming up data handler with 250 historical data points
10-04-2025 19:49:17 - INFO - Saved 250 records to /Users/dmartinsen/pers-prog/ai-trading-v3/live/temp_live/live_data_GBPUSD_20250410_194917.csv
10-04-2025 19:49:17 - INFO - Data handler warmed up with 250 data points
10-04-2025 19:49:17 - INFO - Successfully retrieved 250 previous bars.
10-04-2025 19:49:17 - INFO - About to initiate subscribtion to live market data...
10-04-2025 19:49:17 - INFO - Websocket connected
10-04-2025 19:49:18 - INFO - Data processor thread started
10-04-2025 19:49:18 - INFO - LiveDataHandler processor thread started
10-04-2025 19:49:18 - INFO - Starting live trading service
10-04-2025 19:49:18 - INFO - Initializing model-based strategy
10-04-2025 19:49:18 - INFO - Backtest starting with model-based strategy
10-04-2025 19:49:18 - INFO - Trading loop started
10-04-2025 19:49:18 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:18 - INFO - Live trading service started
10-04-2025 19:49:18 - INFO - Running indefinitely (Ctrl+C to stop)
10-04-2025 19:49:19 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:20 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:21 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:22 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:23 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:24 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:25 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:26 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:27 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:28 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:29 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:30 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:31 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:32 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:33 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:34 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:35 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:36 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:37 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:38 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:39 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:40 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:41 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:42 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:43 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:44 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:45 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:46 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:47 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:48 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:49 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:50 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:51 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:52 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:53 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:54 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:55 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:56 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:57 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:58 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:49:59 - DEBUG - Getting latest data. recent_data size: 250
10-04-2025 19:50:00 - DEBUG - Processing bid message with timestamp 1744307340000
10-04-2025 19:50:00 - DEBUG - Stored bid data for timestamp 1744307340000
10-04-2025 19:50:00 - DEBUG - Processing ask message with timestamp 1744307340000
10-04-2025 19:50:00 - DEBUG - Stored ask data for timestamp 1744307340000
10-04-2025 19:50:00 - DEBUG - Created midpoint for GBPUSD at 2025-04-10 19:49:00
10-04-2025 19:50:00 - DEBUG - Added midpoint to queue. Queue size: ~1
10-04-2025 19:50:00 - DEBUG - Got midpoint from queue: 2025-04-10 19:49:00
10-04-2025 19:50:00 - DEBUG - Matched ask with existing bid for timestamp 1744307340000
10-04-2025 19:50:00 - DEBUG - Added midpoint to recent_data. Size: 251
10-04-2025 19:50:00 - DEBUG - Generated features. New shape: (251, 66)
10-04-2025 19:50:00 - DEBUG - Adding 8 missing expected features: {'open_original', 'open_raw', 'close_raw', 'high_raw', 'close_original', 'high_original', 'low_original', 'low_raw'}
10-04-2025 19:50:00 - DEBUG - Column dtypes: gk_volatility            float64
volume                   float64
open_return              float64
low_return               float64
high_return              float64
volatility_5             float64
price_accel              float64
roc_5                    float64
roc_1                    float64
volatility_10            float64
volatility_20            float64
volatility_30            float64
macd_hist                float64
roc_10                   float64
macd_signal              float64
roc_20                   float64
dist_to_support_20       float64
dist_to_resistance_10    float64
rsi_14                   float64
normalized_atr           float64
stoch_d                  float64
dist_to_support_10       float64
dist_to_resistance_20    float64
macd                     float64
atr_14                   float64
stoch_k                  float64
hour_of_day              float64
ema_200                  float64
open_raw                 float64
high_raw                 float64
low_raw                  float64
close_raw                float64
open_original            float64
high_original            float64
low_original             float64
close_original           float64
day_of_week                int32
month                      int32
sma_50                   float64
ema_50                   float64
dtype: object
10-04-2025 19:50:00 - DEBUG - Final feature set for model: 40 features, 251 rows
10-04-2025 19:50:00 - DEBUG - Running prediction on data with shape (251, 40)
10-04-2025 19:50:00 - DEBUG - Column dtypes: gk_volatility            float64
volume                   float64
open_return              float64
low_return               float64
high_return              float64
volatility_5             float64
price_accel              float64
roc_5                    float64
roc_1                    float64
volatility_10            float64
volatility_20            float64
volatility_30            float64
macd_hist                float64
roc_10                   float64
macd_signal              float64
roc_20                   float64
dist_to_support_20       float64
dist_to_resistance_10    float64
rsi_14                   float64
normalized_atr           float64
stoch_d                  float64
dist_to_support_10       float64
dist_to_resistance_20    float64
macd                     float64
atr_14                   float64
stoch_k                  float64
hour_of_day              float64
ema_200                  float64
open_raw                 float64
high_raw                 float64
low_raw                  float64
close_raw                float64
open_original            float64
high_original            float64
low_original             float64
close_original           float64
day_of_week                int32
month                      int32
sma_50                   float64
ema_50                   float64
dtype: object
10-04-2025 19:50:00 - INFO - Model prediction: [1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 0 1 0 1 0 1 1 0 1 1 1 1 1 0 1 0 1
 1 0 1 1 1 1 1 1 0 0 1 0 1 1 0 1 1 0 1 1 1 1 0 0 0 0 0 0 1 1 0 0 1 0 1 0 1
 1 0 1 0 1 1 1 1 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 1 0 0 0 1 1 1 0 0 1
 0 1 1 1 1 1 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 1 1 0 1 0 1 1
 0 1 1 1 1 1 1 1 1 0 0 1 0 0 0 0 0 0 1 1 1 1 1 1 0 1 0 0 1 1 1 1 1 1 0 1 0
 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0
 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 1 1 1 1 0 1 1 1 1 1 1 1 1]
10-04-2025 19:50:00 - WARNING - Strategy doesn't have evaluate_signal method
10-04-2025 19:50:00 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:01 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:02 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:03 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:04 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:06 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:07 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:08 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:09 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:10 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:11 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:12 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:13 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:14 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:15 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:16 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:17 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:18 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:18 - DEBUG - Ping sent at 19:50:18
10-04-2025 19:50:19 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:19 - INFO - Trading summary - Active positions: None
10-04-2025 19:50:19 - INFO - Portfolio equity: 10000.00, Cash: 10000.00
10-04-2025 19:50:19 - INFO - Pending signals: 0
10-04-2025 19:50:20 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:21 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:22 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:23 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:24 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:25 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:26 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:27 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:28 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:29 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:30 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:31 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:32 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:33 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:34 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:35 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:36 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:37 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:38 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:39 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:40 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:41 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:42 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:43 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:44 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:45 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:46 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:47 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:48 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:49 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:50 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:51 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:52 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:53 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:54 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:55 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:56 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:57 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:58 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:50:59 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:51:00 - DEBUG - Getting latest data. recent_data size: 251
10-04-2025 19:51:01 - DEBUG - Processing bid message with timestamp 1744307400000
10-04-2025 19:51:01 - DEBUG - Stored bid data for timestamp 1744307400000
10-04-2025 19:51:01 - DEBUG - Processing ask message with timestamp 1744307400000
10-04-2025 19:51:01 - DEBUG - Stored ask data for timestamp 1744307400000
10-04-2025 19:51:01 - DEBUG - Created midpoint for GBPUSD at 2025-04-10 19:50:00
10-04-2025 19:51:01 - DEBUG - Added midpoint to queue. Queue size: ~1
10-04-2025 19:51:01 - DEBUG - Got midpoint from queue: 2025-04-10 19:50:00
10-04-2025 19:51:01 - DEBUG - Matched ask with existing bid for timestamp 1744307400000
10-04-2025 19:51:01 - DEBUG - Added midpoint to recent_data. Size: 252
10-04-2025 19:51:01 - DEBUG - Generated features. New shape: (252, 66)
10-04-2025 19:51:01 - DEBUG - Adding 8 missing expected features: {'open_original', 'open_raw', 'close_raw', 'high_raw', 'close_original', 'high_original', 'low_original', 'low_raw'}
10-04-2025 19:51:01 - DEBUG - Column dtypes: gk_volatility            float64
volume                   float64
open_return              float64
low_return               float64
high_return              float64
volatility_5             float64
price_accel              float64
roc_5                    float64
roc_1                    float64
volatility_10            float64
volatility_20            float64
volatility_30            float64
macd_hist                float64
roc_10                   float64
macd_signal              float64
roc_20                   float64
dist_to_support_20       float64
dist_to_resistance_10    float64
rsi_14                   float64
normalized_atr           float64
stoch_d                  float64
dist_to_support_10       float64
dist_to_resistance_20    float64
macd                     float64
atr_14                   float64
stoch_k                  float64
hour_of_day              float64
ema_200                  float64
open_raw                 float64
high_raw                 float64
low_raw                  float64
close_raw                float64
open_original            float64
high_original            float64
low_original             float64
close_original           float64
day_of_week                int32
month                      int32
sma_50                   float64
ema_50                   float64
dtype: object
10-04-2025 19:51:01 - DEBUG - Final feature set for model: 40 features, 252 rows
10-04-2025 19:51:01 - DEBUG - Running prediction on data with shape (252, 40)
10-04-2025 19:51:01 - DEBUG - Column dtypes: gk_volatility            float64
volume                   float64
open_return              float64
low_return               float64
high_return              float64
volatility_5             float64
price_accel              float64
roc_5                    float64
roc_1                    float64
volatility_10            float64
volatility_20            float64
volatility_30            float64
macd_hist                float64
roc_10                   float64
macd_signal              float64
roc_20                   float64
dist_to_support_20       float64
dist_to_resistance_10    float64
rsi_14                   float64
normalized_atr           float64
stoch_d                  float64
dist_to_support_10       float64
dist_to_resistance_20    float64
macd                     float64
atr_14                   float64
stoch_k                  float64
hour_of_day              float64
ema_200                  float64
open_raw                 float64
high_raw                 float64
low_raw                  float64
close_raw                float64
open_original            float64
high_original            float64
low_original             float64
close_original           float64
day_of_week                int32
month                      int32
sma_50                   float64
ema_50                   float64
dtype: object
10-04-2025 19:51:01 - INFO - Model prediction: [1 1 1 1 1 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 0 1 0 1 0 1 1 1 1 1 1 1 1 0 1 0 1
 1 0 1 1 1 1 1 1 1 0 1 0 1 1 0 1 1 0 1 0 1 1 0 0 0 0 0 0 1 1 0 0 1 0 1 0 1
 1 0 1 0 1 1 1 1 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 0 1 0 0 0 1 1 1 0 0 0
 0 1 1 0 1 1 1 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 1 1 1 1 0 1 1
 0 1 1 1 1 1 1 1 1 0 0 1 0 0 0 0 0 0 1 1 1 1 1 1 0 1 0 0 1 1 1 1 1 1 0 1 0
 1 1 1 1 1 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 0
 1 1 1 1 1 1 1 1 1 1 0 1 1 1 0 0 1 1 1 1 0 1 1 1 1 1 1 1 1 1]
10-04-2025 19:51:01 - WARNING - Strategy doesn't have evaluate_signal method
10-04-2025 19:51:01 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:02 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:03 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:04 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:05 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:06 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:07 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:08 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:09 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:10 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:11 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:12 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:13 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:14 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:15 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:16 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:17 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:18 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:18 - DEBUG - Ping sent at 19:51:18
10-04-2025 19:51:19 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:19 - INFO - Trading summary - Active positions: None
10-04-2025 19:51:19 - INFO - Portfolio equity: 10000.00, Cash: 10000.00
10-04-2025 19:51:19 - INFO - Pending signals: 0
10-04-2025 19:51:20 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:21 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:22 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:23 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:24 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:25 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:26 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:27 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:28 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:29 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:30 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:31 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:32 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:33 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:34 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:35 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:36 - DEBUG - Getting latest data. recent_data size: 252
10-04-2025 19:51:36 - INFO - Received shutdown signal, stopping trading...
10-04-2025 19:51:36 - INFO - Stopping live trading service
10-04-2025 19:51:37 - INFO - Trading loop exited
10-04-2025 19:51:37 - INFO - Closing all positions: 0 positions
10-04-2025 19:51:37 - INFO - Sleeping for 5 seconds before closing ALL active positions..
10-04-2025 19:51:42 - INFO - All positions closed successfully
10-04-2025 19:51:42 - INFO - Backtest completed with model-based strategy
10-04-2025 19:51:42 - INFO - Live trading service stopped
10-04-2025 19:51:42 - ERROR - Error in live trading: Remote end closed connection without response
10-04-2025 19:51:42 - ERROR - Traceback (most recent call last):
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/live/live_trading_runner.py", line 260, in run_live_trading
    time.sleep(60)
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/live/live_trading_runner.py", line 252, in signal_handler
    broker.end_session()
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/broker/capital_com/capitalcom.py", line 48, in end_session
    return session.end_session(X_SECURITY_TOKEN=X_SECURITY_TOKEN or self.x_security_token, CST=CST or self.cst)
  File "/Users/dmartinsen/pers-prog/ai-trading-v3/broker/capital_com/rest_api/session.py", line 85, in end_session
    res = conn.getresponse()
  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 1375, in getresponse
    response.begin()
  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 318, in begin
    version, status, reason = self._read_status()
  File "/opt/homebrew/Cellar/python@3.10/3.10.16/Frameworks/Python.framework/Versions/3.10/lib/python3.10/http/client.py", line 287, in _read_status
    raise RemoteDisconnected("Remote end closed connection without"
http.client.RemoteDisconnected: Remote end closed connection without response

10-04-2025 19:51:42 - WARNING - Trading service is not running
10-04-2025 19:51:42 - INFO - Ended session: {"status":"SUCCESS"}
10-04-2025 19:51:42 - INFO - Live trading session ended
10-04-2025 19:51:55 - INFO - Received shutdown signal, stopping trading...
10-04-2025 19:51:55 - WARNING - Trading service is not running
10-04-2025 19:51:55 - INFO - Ended session: {"errorCode":"error.invalid.session.token"}
